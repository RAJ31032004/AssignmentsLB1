#include<stdio.h>

/////////////////////////////////////////////////////////////////////////////////////////////
//
//  Function Name :   AddInt
//  Description   :   Performs addition of two integers
//  Input         :   Integer, Integer
//  Output        :   Integer
//
/////////////////////////////////////////////////////////////////////////////////////////////
int AddInt(int no1, int no2)
{
    return no1 + no2;
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
//  Function Name :   AddFloat
//  Description   :   Performs addition of two float numbers
//  Input         :   Float, Float
//  Output        :   Float
//
/////////////////////////////////////////////////////////////////////////////////////////////
float AddFloat(float no1, float no2)
{
    return no1 + no2;
}

/////////////////////////////////////////////////////////////////////////////////////////////
//
//  Generic Macro :   Add
//  Description   :   Selects correct function based on datatype
//
/////////////////////////////////////////////////////////////////////////////////////////////
#define Add(no1, no2) _Generic((no1), \
                        int   : AddInt, \
                        float : AddFloat \
                      )(no1, no2)

/////////////////////////////////////////////////////////////////////////////////////////////
//
//  Entry Point Function
//
/////////////////////////////////////////////////////////////////////////////////////////////
int main()
{
    int iRet = Add(10, 20);
    printf("%d\n", iRet);

    float fRet = Add(10.5f, 20.3f);
    printf("%f\n", fRet);

    return 0;
}
